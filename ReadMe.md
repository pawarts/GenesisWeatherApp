Документація API Weather Subscription Service
Загальна інформація
Цей сервіс на базі Express.js забезпечує отримання погодних даних по українських містах (введених латиницею) та підписку користувачів на оновлення погоди з підтвердженням email. Для збереження даних підписок використовується MongoDB, де зберігаються токени підтвердження.

Використані технології
Express.js — серверний фреймворк

MongoDB + Mongoose — зберігання підписок і токенів підтвердження

Nodemailer — надсилання email-повідомлень для підтвердження підписки

UUID — генерація унікальних токенів для підтвердження та відписки

CORS — дозвіл запитів з будь-яких джерел

Ендпоінти
1. Отримання погоди
    GET /weather?city=<місто>

    Опис: Повертає дані погоди для заданого міста України.

    Параметри:

        city — назва міста латиницею (обов’язково)

        Валідація: Приймаються лише міста в межах України, введені латинськими літерами.

    Відповіді:

        200 — погодні дані у форматі JSON

        400 — відсутність параметру city

        404 — місто не знайдено

2. Підписка на оновлення погоди
    POST /subscribe

    Опис: Створює підписку для email на оновлення погоди в певному місті з вибором частоти отримання оновлень.

    Тіло запиту (JSON):

        email — email користувача (обов’язково)

        city — місто України латиницею (обов’язково)

        frequency — частота оновлень (обов’язково)

    Логіка:

    Генерується унікальний токен підтвердження (UUID v4), який зберігається в MongoDB разом з іншими даними.

    Надсилається лист для підтвердження підписки з посиланням http://localhost:5000/confirm/:token.

    Відповіді:

        200 — лист з підтвердженням надіслано

        400 — відсутні обов’язкові поля

        500 — помилка надсилання листа

3. Підтвердження підписки
    GET /confirm/:token

    Опис: Підтверджує підписку за унікальним токеном.

    Параметри:

    token — UUID v4 (36 символів)

    Логіка:

    Знаходить підписку по токену і позначає її як підтверджену (confirmed: true).

    Відповіді:

        200 — підписка підтверджена

        400 — некоректний токен

        404 — токен не знайдено

        500 — серверна помилка

4. Відписка
GET /unsubscribe/:token

    Опис: Видаляє підписку за унікальним токеном.

    Параметри:

    token — UUID v4 (36 символів)

    Відповіді:

        200 — підписку успішно видалено

        400 — некоректний токен

        404 — токен не знайдено

        500 — серверна помилка

Важливо
Підтримується тільки введення українських міст латиницею.

MongoDB використовується для збереження підписок, включно з унікальними токенами підтвердження та статусом підписки.

Для email-розсилки використовується Gmail SMTP через Nodemailer.